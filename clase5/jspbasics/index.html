<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <script src="index_files/tigris.txt" type="text/javascript"></script>
  <link rel="stylesheet" type="text/css" href="index_files/netbeans.css">
  <title>LAB-4003: JSP Basics</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="SourceCastVersion" content="2.6.2.4.10">
  <link rel="shortcut icon" href="http://www.netbeans.org/favicon.ico"
 type="image/x-icon">
  <meta name="keywords"
 content="NetBeans, IDE, Platform, free, open source, developer">
  <link rel="stylesheet" href="index_files/netbeans_002.css">
  <meta name="author" content="Sang Shin">
  <style type="text/css">
#search {height:100%;}
#topmodule {align:right;}
  </style>
  <script language="JavaScript" type="text/javascript">
<!--
function get_sc_login() {
  var sclogin = "guest";
  return (sclogin);
}
var username=get_sc_login();
//-->
  </script>
</head>
<body onload="loginfocus()" class="composite">
<!-- begin TopTabs --><!-- end TopTabs --><!-- start NavCol --><!-- end NavCol --><!-- Servlet-Specific template --><!-- Show servlet name if it is a servlet -->
<br>
<br>
<h1 style="text-align: center;">JavaServer Pages (JSP) Basics<br>
</h1>
<div class="articledate" style="margin-left: 0px; text-align: center;"><a
 href="http://www.javapassion.com/SangShinSchedule.html#Bio">Sang Shin</a>,<a
 href="mailto:sang.shin@sun.com"></a> <a
 href="http://www.javapassion.com/j2ee">www.javapassion.com/j2ee</a><a
 href="mailto:sang.shin@sun.com"><i>
</i></a></div>
<div class="indent"><br>
<div style="text-align: center;"><img alt=""
 src="index_files/sangshin2009.jpg" style="width: 88px; height: 101px;"><br>
<br>
</div>
The goal of this hands-on lab is to exercise basic features of JSP,
especially focusing on the features of the JSP 1.2.&nbsp; You are going
to build, run, and modify JSPExamples sample
application using NetBeans. <br>
<b><br>
</b>
<div style="text-align: center;"><b>Expected duration: 90 minutes
(excluding homework)<br>
<br>
</b></div>
<br>
<h3 class="tutorial">Software Needed</h3>
<br>
Before you begin, you need to install JDK and NetBeans <a
 href="http://www.javapassion.com/handsonlabs/webappstructure/#Exercise_0">as
described here</a>.&nbsp; You also need to download and unzip the
hands-on lab zip file below.
<ul>
  <li>4003_jspbasics.zip (<a
 href="http://www.javapassion.com/handsonlabs/4003_jspbasics.zip">download</a>)</li>
  <ul>
    <li>It contains this document and the lab contents<br>
    </li>
    <li>Download it and unzip in a directory of your choice</li>
  </ul>
</ul>
<br>
<h3 class="tutorial">OS platforms you can use<br>
</h3>
<ul>
  <li>Windows</li>
  <li>Solaris x86, Solaris Sparc</li>
  <li>Linux</li>
  <li>Mac OS X</li>
</ul>
<br>
<h3 class="tutorial"><a name="Change_Log"></a>Change Log<br>
</h3>
<ul>
  <li>Oct. 12th, 2006: Homework is added</li>
  <li>Jan. 5th, 2008: Projects now use GlassFish v2 (of NetBeans 6.0)
as deployment platforms</li>
  <li>June 18th, 2008: Updated with NetBeans 6.1</li>
  <li>Aug. 5th, 2009: Tested with NetBeans 6.7.1</li>
  <li>Feb. 21st, 2010: Tested with NetBeans 6.8, JSPExamples is
provided under Samples<br>
  </li>
</ul>
<br>
<h3 class="tutorial"><a name="Tutorial_Exercises"></a>Lab Exercises</h3>
<ul>
  <li><a href="#Exercise_1">Exercise 1: Build and run HelloWorld JSP
application (20 minutes)</a><br>
  </li>
  <li><a href="#Exercise_2">Exercise 2: Build and run "JSP 1.2" part of
the
"JSPExamples" sample
application (50 minutes)</a></li>
  <li><a href="#Homework_Exercise">Homework
Exercise (for people who
are taking Sang Shin's "Java EE Programming online course")</a></li>
</ul>
</div>
<br>
<!-- ===================================================================================== -->
<h2><a name="Exercise_1"></a>Exercise 1: Build and run HelloWorld JSP
Application<br>
</h2>
<i></i>
<p style="margin-left: 40px;">In this exercise, you are going to create
a simple HelloWorld JSP application whose NetBeans project name is
set as "<span style="font-weight: bold;">hello1</span>".&nbsp;&nbsp; <br>
</p>
<ul style="margin-left: 40px;">
</ul>
<div style="margin-left: 40px;">
<ol>
  <li><a href="#1.1">Open, build, and run "hello1" sample JSP
application</a></li>
  <li><a href="#1.2">Modify "hello1" sample JSP application to
display hobby field</a></li>
</ol>
</div>
<ol style="margin-left: 40px;">
</ol>
<br>
<h3 style="margin-left: 40px;" class="tutorial"><a name="1.1"></a>(1.1)
Open, build, and run "hello1" sample JSP application<br>
</h3>
<p style="margin-left: 40px;">0. Start NetBeans IDE.&nbsp; <br>
1. Open <span style="font-weight: bold; color: rgb(255, 0, 0);">hello1</span>
NetBeans project.&nbsp; <br>
</p>
<div style="margin-left: 40px;">
<ul>
  <li>Select <span style="font-weight: bold;">File</span>-&gt;<span
 style="font-weight: bold;">Open Project (Ctrl+Shift+O)</span>. The <span
 style="font-weight: bold;">Open Project</span> dialog box appears.</li>
  <li>Browse down to <span style="font-weight: bold;">&lt;LAB_UNZIPPED_DIRECTORY&gt;/jspbasics/samples</span>
directory.&nbsp; <br>
  </li>
  <ul>
    <li>Windows: If you unzipped the <span style="font-weight: bold;">4003_jspbasics.zip</span>
file under
C:\
directory, the directory to which you want
to browse down should be <span style="font-weight: bold;">C:\jspbasics\samples.</span></li>
    <li>Solaris/Linux: If you unzipped the <span
 style="font-weight: bold;">4003_jspbasics.zip</span>
file under $HOME
directory, the directory to which you want
to browse down should be <span style="font-weight: bold;">$HOME/jspbasics/samples.</span><span
 style="font-weight: bold;"></span></li>
  </ul>
  <li>Select <span style="font-weight: bold; color: rgb(255, 0, 0);">hello1</span>.&nbsp;
  </li>
  <li>Click <span style="font-weight: bold;">Open Project</span>.&nbsp;
The <span style="font-weight: bold;">hello1</span>
project node appears under <span style="font-weight: bold;">Projects </span>tab
window.</li>
</ul>
</div>
<p style="margin-left: 40px;">2 Build and run <span
 style="font-weight: bold;">hello1 </span>project. <br>
</p>
<div style="margin-left: 40px;">
<ul>
  <li>Right-click <span style="font-weight: bold;">hello1</span>
project and select <span style="font-weight: bold;">Run</span>. <br>
  </li>
  <li>Browser gets displayed.&nbsp; Type your name in the input form
field and click <span style="font-weight: bold;">Submit </span>button.
    <br>
  </li>
</ul>
<img alt="" src="index_files/1_result0.png"
 style="width: 739px; height: 578px;"><br>
<ul>
  <li>Observe that <span style="font-weight: bold;">Hello, &lt;Your
name&gt;</span> is displayed.<br>
  </li>
</ul>
</div>
<p style="margin-left: 40px;"><img alt="" src="index_files/1_result.png"
 style="width: 739px; height: 578px;"><br>
Figure-1.12: Running hello1 project<br>
</p>
<p style="margin-left: 40px;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_1">return to top of the exercise</a>
</p>
<p style="margin-left: 40px;"><span style="font-weight: bold;"></span></p>
<br>
<h3 style="margin-left: 40px;" class="tutorial"><a name="1.2"></a>(1.2)
Modify the application to display "hobby"<br>
</h3>
<br>
<div style="margin-left: 40px;">In this step, you are going to modify
the <span style="font-weight: bold;">hello1 </span>application to ask
a hobby of a user and then redisplay it.<br>
<br>
</div>
<div style="margin-left: 40px;">1. Double click <span
 style="font-weight: bold;">index.jsp</span> under <span
 style="font-weight: bold;">hello1-&gt;Web Pages</span>
to open in the source editor.<br>
<br>
<img alt="" src="index_files/1_result2.1.png"
 style="width: 799px; height: 701px;"><br>
<br>
2. Modify <span style="font-weight: bold;">index.jsp </span>as
shown in Code-1.13 below.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;%------------------
commented out for now ---------------------------<br>
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %&gt;<br>
&lt;%@ taglib uri="http://java.sun.com/jsp/jstl/functions" prefix="fn"
%&gt;<br>
---------------------------------------------------------------------%&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&nbsp;
&lt;head&gt;&lt;title&gt;Hello&lt;/title&gt;&lt;/head&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;body bgcolor="white"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;img
src="duke.waving.gif"&gt; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2&gt;<span
 style="font-weight: bold; color: rgb(51, 51, 255);">Hello, my name is
Duke. My hobby is Golf. What are your name and hobby?</span>&lt;/h2&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;form method="get"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;input type="text" name="username" size="25"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span
 style="font-weight: bold; color: rgb(51, 51, 255);"> &lt;input
type="text" name="hobby" size="25"&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;p&gt;&lt;/p&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;input type="submit" value="Submit"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;input type="reset" value="Reset"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/form&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
String username = request.getParameter("username");<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (
username != null &amp;&amp; username.length() &gt; 0 ) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%@include
file="response.jsp" %&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
}<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;%------------ commented
out for now ------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c:if
test="${fn:length(param.username) &gt; 0}" &gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%@include file="response.jsp" %&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/c:if&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
-------------------------------------------------%&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-1.13: Modified index.jsp<br>
<br>
3. Modify <span style="font-weight: bold;">response.jsp</span> under <span
 style="font-weight: bold;">hello1-&gt;Web Pages</span> as shown in
Code-1.14 below.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;h2&gt;&lt;font
color="black"&gt;Hello, ${param.username}!&lt;/font&gt;&lt;/h2&gt;<br>
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&lt;h2&gt;&lt;font
color="black"&gt;Your hobby is ${param.hobby}!&lt;/font&gt;&lt;/h2&gt;</span><br>
      </td>
    </tr>
  </tbody>
</table>
Code-1.14: Modified ResponseServlet.java<br>
<br>
4. Right-click <span style="font-weight: bold;">hello1</span>
project and select <span style="font-weight: bold;">Run</span>.<br>
5. Type in a name and hobby into the blank fields.&nbsp; Clock <span
 style="font-weight: bold;">Submit </span>button.<br>
6. Observe the name and hobby you typed are displayed. (Figure-1.15
below)<br>
<br>
<img alt="" src="index_files/1_result2.png"
 style="width: 737px; height: 595px;"><br>
Figure-1.15: Result of running the application<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_1">return to top of the exercise</a><br>
<br>
</div>
<p style="margin-left: 40px;"></p>
<h3 style="margin-left: 40px;" class="tutorial">Summary</h3>
<p style="margin-left: 40px;">In this exercise,&nbsp; you have built
and run a simplest possible Web application that contains two JSP
files, index.jsp and response.jsp.<br>
</p>
<p style="margin-left: 40px;">&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <a
 href="#Tutorial_Exercises">return to the top</a>
<br>
</p>
<p style="margin-left: 40px;"><br>
<br>
</p>
<!-- ===================================================================================== -->
<h2><a name="Exercise_2"></a>Exercise 2: Build and run "JSP 1.2" part
of the
"JSP Examples" sample
application<br>
</h2>
<p style="margin-left: 40px;">In this exercise, you are going to build
and run "JSP 1.2" part of the "JSP Examples" sample application
that comes with
NetBeans.<br>
</p>
<ul>
  <ul>
  </ul>
  <ol>
    <li><a href="#2.1">Build and run "JSP Examples" sample
application</a></li>
    <li><a href="#2.2">Modify "Date" part of the sample
application</a></li>
    <li><a href="#2.3">Modify "ErrorPage" part of the sample
application</a></li>
    <li><a href="#2.4">Modify "Include" part of the sample application </a><br>
    </li>
    <li><a href="#2.5">Modify "Forward" part of the sample application</a></li>
    <li><a href="#2.6">Modify "Snoop" part of the sample application</a></li>
    <li><a href="#2.7">Study "JSP Servlet JSP" part of the sample
application</a></li>
  </ol>
</ul>
<br>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.1"></a>(2.1)
Build and run "JSP Examples" sample application<br>
</h3>
<br>
<div style="margin-left: 40px;">1. Open <span
 style="font-weight: bold; color: rgb(51, 51, 255);">JSPExamples</span>
NetBeans project (that is provided as part of hands-on lab zip file).
<br>
<ul>
  <li>Select <span style="font-weight: bold;">File</span>-&gt;<span
 style="font-weight: bold;">Open Project (Ctrl+Shift+O)</span>.</li>
</ul>
<img alt="" src="index_files/1_result4.png"
 style="width: 767px; height: 728px;"><br>
</div>
<div style="margin-left: 40px;">
<ul>
  <li>The <span style="font-weight: bold;">Open Project</span> dialog
box appears.</li>
  <li>Browse down to <span style="font-weight: bold;">&lt;LAB_UNZIPPED_DIRECTORY&gt;/jspbasics/samples</span>
directory.&nbsp; <br>
  </li>
  <li>Select <span style="font-weight: bold; color: rgb(51, 51, 255);">JSPExamples</span>.
  </li>
</ul>
</div>
<div style="margin-left: 40px;">
<img alt="" src="index_files/1_result5.png"
 style="width: 779px; height: 403px;"><br>
<br>
2. Build and run the project.<br>
<ul>
  <li>Right click <span style="font-weight: bold;">JSPExamples </span>project
node and select <span style="font-weight: bold;">Run</span>.</li>
</ul>
<img alt="" src="index_files/2_tomcatjsp3.png"
 style="width: 809px; height: 671px;"><br>
<br>
<ul>
  <li>Observe that the browser gets displayed.&nbsp; Scroll down to the
section with<span style="font-weight: bold;"> JSP 1.2 Examples</span>.</li>
  <li>Click <span style="font-weight: bold;">Execute </span>to
execute
the "<span style="font-weight: bold; color: rgb(255, 0, 0);">Date</span>"
example.
(Figure-2.12 below)</li>
  <li>Click <span style="font-weight: bold;">Source </span>to see the
corresponding source code. (Figure-2.12 below)</li>
</ul>
<img alt="" src="index_files/2_date1.png"
 style="width: 737px; height: 595px;"><br>
Figure-2.12: JSPExamples application<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
<br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.2"></a>(2.2)
Modify "Date" part of the application<br>
</h3>
<div style="margin-left: 40px;"><br>
In this step, you are going to "Date" part of the application to
display "Years from 1992".<br>
<br>
1. Modify <span style="font-weight: bold;">JspCalendar.java</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Source
Packages-&gt;dates</span> as shown in Code-2.20
below.&nbsp; The code fragments that need to be added are highlighted
in <span style="font-weight: bold; color: rgb(51, 51, 255);">bold and
blue colored</span> font.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">package dates;<br>
      <br>
import java.text.DateFormat;<br>
import java.util.*;<br>
      <br>
public class JspCalendar {<br>
&nbsp;&nbsp;&nbsp; Calendar&nbsp; calendar = null;<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public JspCalendar() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calendar =
Calendar.getInstance();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Date trialTime = new Date();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; calendar.setTime(trialTime);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getYear() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.YEAR);<br>
&nbsp;&nbsp;&nbsp; }<br>
      <br>
&nbsp;&nbsp;&nbsp; <span
 style="font-weight: bold; color: rgb(51, 51, 255);">public int
getYearsFrom1992() {</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return calendar.get(Calendar.YEAR) - 1992 ;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;
}</span><br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public String getMonth() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int m = getMonthInt();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] months = new String
[] { "January", "February", "March",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "April", "May", "June",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "July", "August",
"September",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "October", "November",
"December" };<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (m &gt; 12)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return "Unknown to Man";<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return months[m - 1];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public String getDay() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; int x = getDayOfWeek();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] days = new String[]
{"Sunday", "Monday", "Tuesday", "Wednesday",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Thursday", "Friday",
"Saturday"};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (x &gt; 7)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
return "Unknown to Man";<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return days[x - 1];<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getMonthInt() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return 1 +
calendar.get(Calendar.MONTH);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public String getDate() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return getMonthInt() + "/" +
getDayOfMonth() + "/" +&nbsp; getYear();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public String getTime() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return getHour() + ":" +
getMinute() + ":" + getSecond();<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getDayOfMonth() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.DAY_OF_MONTH);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getDayOfYear() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.DAY_OF_YEAR);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getWeekOfYear() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.WEEK_OF_YEAR);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getWeekOfMonth() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.WEEK_OF_MONTH);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getDayOfWeek() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.DAY_OF_WEEK);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getHour() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.HOUR_OF_DAY);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getMinute() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.MINUTE);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getSecond() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.SECOND);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public static void main(String args[]) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JspCalendar db = new
JspCalendar();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("date: " +
db.getDayOfMonth());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("year: " + db.getYear());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span
 style="font-weight: bold; color: rgb(51, 51, 255);"> p("years from
1992: " + db.getYearsFrom1992());</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("month: " + db.getMonth());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("time: " + db.getTime());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("date: " + db.getDate());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("Day: " + db.getDay());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("DayOfYear: " +
db.getDayOfYear());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("WeekOfYear: " +
db.getWeekOfYear());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("era: " + db.getEra());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("ampm: " + db.getAMPM());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("DST: " +
db.getDSTOffset());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("ZONE Offset: " +
db.getZoneOffset());<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p("TIMEZONE: " +
db.getUSTimeZone());<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; private static void p(String x) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; System.out.println(x);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getEra() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.ERA);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public String getUSTimeZone() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; String[] zones = new
String[] {"Hawaii", "Alaskan", "Pacific",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; "Mountain", "Central",
"Eastern"};<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return zones[10 +
getZoneOffset()];<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getZoneOffset() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.ZONE_OFFSET)/(60*60*1000);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getDSTOffset() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.DST_OFFSET)/(60*60*1000);<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; public int getAMPM() {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return
calendar.get(Calendar.AM_PM);<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.20: Modified JspCalendar.java<br>
<br>
2. Modify <span style="font-weight: bold; color: rgb(51, 51, 255);">date.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;dates</span> as shown in Code-2.20
below.&nbsp; The code fragments that need to be added are highlighted
in <span style="font-weight: bold; color: rgb(51, 51, 255);">bold and
blue colored</span> font.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;%@ page session="false"%&gt;<br>
      <br>
&lt;body bgcolor="white"&gt;<br>
&lt;jsp:useBean id='clock' scope='page' class='dates.JspCalendar'
type="dates.JspCalendar" /&gt;<br>
      <br>
&lt;font size=4&gt;<br>
&lt;ul&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Day of month: is&nbsp; &lt;jsp:getProperty
name="clock" property="dayOfMonth"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Year: is&nbsp; &lt;jsp:getProperty
name="clock" property="year"/&gt;<br>
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&lt;li&gt;&nbsp;&nbsp;&nbsp;
Years from 1992: is&nbsp; &lt;jsp:getProperty name="clock"
property="yearsFrom1992"/&gt;</span><br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Month: is&nbsp; &lt;jsp:getProperty
name="clock" property="month"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Time: is&nbsp; &lt;jsp:getProperty
name="clock" property="time"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Date: is&nbsp; &lt;jsp:getProperty
name="clock" property="date"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Day: is&nbsp; &lt;jsp:getProperty
name="clock" property="day"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Day Of Year: is&nbsp; &lt;jsp:getProperty
name="clock" property="dayOfYear"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Week Of Year: is&nbsp; &lt;jsp:getProperty
name="clock" property="weekOfYear"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; era: is&nbsp; &lt;jsp:getProperty
name="clock" property="era"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; DST Offset: is&nbsp; &lt;jsp:getProperty
name="clock" property="DSTOffset"/&gt;<br>
&lt;li&gt;&nbsp;&nbsp;&nbsp; Zone Offset: is&nbsp; &lt;jsp:getProperty
name="clock" property="zoneOffset"/&gt;<br>
&lt;/ul&gt;<br>
&lt;/font&gt;<br>
      <br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.21:Display Years from 1992<br>
<br>
3. Right click <span style="font-weight: bold;">JSPExamples </span>project
node and select <span style="font-weight: bold;">Run</span>.<br>
4. Observe that the browser gets displayed.&nbsp; Scroll down to the
section with<span style="font-weight: bold;"> JSP 1.2 Examples</span>.<br>
5. Click <span style="font-weight: bold;">Execute </span>to execute
the "<span style="font-weight: bold;">Date</span>" example.
(Figure-2.22 below)<br>
<br>
<img alt="" src="index_files/2_date2.png"
 style="width: 737px; height: 595px;"><br>
Figure-2.22: Result of running the application<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
<br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.3"></a>(2.3)
Modify "ErrorPage" example part of the application<br>
</h3>
<div style="margin-left: 40px;"><br>
In this step, you are going to display your own Error page when there
occurs an error.&nbsp; If you are using IE7, please see the
Trouble-shooting below.<br>
<br>
1.&nbsp; Create <span
 style="font-weight: bold; color: rgb(51, 51, 255);">myOwnErrorpage.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;error</span>. <br>
<ul>
  <li>Right click <span style="font-weight: bold;">error </span>and
select <span style="font-weight: bold;">New-&gt;JSP</span>.</li>
</ul>
<img alt="" src="index_files/1_result3.png"
 style="width: 809px; height: 671px;"><br>
<ul>
  <li>Under <span style="font-weight: bold;">New JSP File</span>
dialog box, for<span style="font-weight: bold;"> JSP File Name:</span>
field, type in <span style="font-weight: bold; color: rgb(255, 0, 0);">myOwnErrorpage</span>.</li>
  <li>Click <span style="font-weight: bold;">Finish</span>.&nbsp;
(Figure-2.30 below)<br>
  </li>
</ul>
<img alt="" src="index_files/2_myownerror.png"
 style="width: 620px; height: 450px;"><br>
Figure-2.30: Create myOwnErrorPage.jsp<br>
<br>
2. Replace the IDE generated <span style="font-weight: bold;">myOwnErrorpage.jsp</span>
with the code in Code-2.31 below.&nbsp; This is a modified copy of the
<span style="font-weight: bold;">errorpage.jsp</span>.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&lt;!--<br>
&nbsp; Copyright 2004 The Apache Software Foundation<br>
      <br>
&nbsp; Licensed under the Apache License, Version 2.0 (the "License");<br>
&nbsp; you may not use this file except in compliance with the License.<br>
&nbsp; You may obtain a copy of the License at<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
http://www.apache.org/licenses/LICENSE-2.0<br>
      <br>
&nbsp; Unless required by applicable law or agreed to in writing,
software<br>
&nbsp; distributed under the License is distributed on an "AS IS" BASIS,<br>
&nbsp; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied.<br>
&nbsp; See the License for the specific language governing permissions
and<br>
&nbsp; limitations under the License.<br>
--&gt;<br>
      <br>
&lt;body bgcolor="<span style="font-weight: bold;">blue</span>"&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;%@ page isErrorPage="true" %&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;h1&gt; <span style="font-weight: bold;">This is
my own error page and the</span> exception &lt;%=
exception.getMessage() %&gt; tells me you<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; made a wrong choice. <br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.31: myOwnErrorpage.jsp<br>
<br>
3. Modify <span style="font-weight: bold; color: rgb(51, 51, 255);">err.jsp</span>
under under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;error</span>. The code fragments that need to be added are
highlighted
in <span style="font-weight: bold; color: rgb(51, 51, 255);">bold and
blue colored</span> font.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;body bgcolor="lightblue"&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;%@ page errorPage="<span
 style="font-weight: bold; color: rgb(51, 51, 255);">myOwnErrorpage.jsp</span>"
%&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;jsp:useBean id="foo" scope="request"
class="error.Smart" /&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;% <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; String name = null;<br>
      <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; if (request.getParameter("name")
== null) {<br>
&nbsp;&nbsp;&nbsp; %&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;%@ include file="/error/error.html" %&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;%<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; } else {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;
foo.setName(request.getParameter("name"));<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; if
(foo.getName().equalsIgnoreCase("integra"))<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; &nbsp;&nbsp;&nbsp; name =
"acura";<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; if
(name.equalsIgnoreCase("acura")) {<br>
&nbsp;&nbsp;&nbsp; %&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;H1&gt; Yes!!! &lt;a
href="http://www.acura.com"&gt;Acura&lt;/a&gt; is my favorite car.<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;% <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp; }<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; %&gt;&nbsp;&nbsp;&nbsp; <br>
&lt;/body&gt;<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.32: Modified err.jsp<br>
<br>
3. Right click <span style="font-weight: bold;">JSPExamples </span>project
node and select <span style="font-weight: bold;">Run</span>.<br>
4. Observe that the browser gets displayed.&nbsp; Scroll down to the
section with<span style="font-weight: bold;"> JSP 1.2 Examples</span>.<br>
5. Click <span style="font-weight: bold;">Execute </span>to execute
the "<span style="font-weight: bold;">ErrorPage</span>" example. <br>
6. Select <span style="font-weight: bold;">BMW 328i</span> from the
drop-down list.<br>
7. Observe that myOwnErrorpage.jsp is displayed on the browser.
(Figure-2.33 below)<br>
<br>
<img alt="" src="index_files/2_myownerror2.png"
 style="width: 737px; height: 595px;"><br>
Figure-2.33: Result of running the application<br>
<br>
<span style="color: rgb(255, 0, 0);">Trouble-shooting</span>:&nbsp; If
you are using IE6 and experience "Internal Server" error condition, do
Tools-Internet Options-Advanced tab-uncheck "Show friendly HTTP error
message"<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="#Exercise_2">return to top of the exercise</a><br>
</div>
<div style="margin-left: 40px;"><br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.4"></a>(2.4)
Modify "Include"
part of the sample application<br>
</h3>
<div style="margin-left: 40px;">
<br>
1. Run the "<span style="font-weight: bold;">Include</span>" part of
the sampe application.<br>
<br>
<img alt="" src="index_files/2_include1.png"
 style="width: 739px; height: 578px;"><br>
<br>
<img alt="" src="index_files/2_include2.png"
 style="width: 739px; height: 578px;"><br>
<br>
2. Create a new JSP file, called <span
 style="font-weight: bold; color: rgb(51, 51, 255);">foo1.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;include</span>.&nbsp; The code fragments that need to be
changed from the IDE generated JSP file are highlighted in <span
 style="font-weight: bold; color: rgb(51, 51, 255);">bold and blue
colored</span> font.<br>
<ul>
  <li>Right click include and select New-&gt;JSP.<br>
  </li>
</ul>
<img alt="" src="index_files/2_include3.png"
 style="width: 799px; height: 701px;"><br>
<ul>
  <li>For the JSP File Name field, enter <span
 style="font-weight: bold; color: rgb(255, 0, 0);">foo1</span>.</li>
  <li>Click Finish.<br>
  </li>
</ul>
<img alt="" src="index_files/2_include4.png"
 style="width: 663px; height: 452px;"><br>
<ul>
  <li>Modify the code as shown below.</li>
</ul>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;%@page
contentType="text/html"%&gt;<br>
&lt;%@page pageEncoding="UTF-8"%&gt;<br>
      <br>
      <br>
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"<br>
&nbsp;&nbsp; "http://www.w3.org/TR/html4/loose.dtd"&gt;<br>
&lt;html&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;head&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta
http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;JSP
Page&lt;/title&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;body&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;h1&gt;<span
 style="font-weight: bold; color: rgb(255, 0, 0);">This is foo1.jsp</span>&lt;/h1&gt;<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.40: foo1.jsp<br>
<br>
3. Modify <span style="font-weight: bold; color: rgb(51, 51, 255);">include.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;include</span>.&nbsp;
The code fragments that need to be changed from the IDE generated JSP
file are highlighted in <span
 style="font-weight: bold; color: rgb(51, 51, 255);">bold and blue
colored</span> font.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&lt;!--<br>
&nbsp; Copyright 2004 The Apache Software Foundation<br>
      <br>
&nbsp; Licensed under the Apache License, Version 2.0 (the "License");<br>
&nbsp; you may not use this file except in compliance with the License.<br>
&nbsp; You may obtain a copy of the License at<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
http://www.apache.org/licenses/LICENSE-2.0<br>
      <br>
&nbsp; Unless required by applicable law or agreed to in writing,
software<br>
&nbsp; distributed under the License is distributed on an "AS IS" BASIS,<br>
&nbsp; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied.<br>
&nbsp; See the License for the specific language governing permissions
and<br>
&nbsp; limitations under the License.<br>
--&gt;<br>
      <br>
&lt;body bgcolor="white"&gt;<br>
      <br>
&lt;font color="red"&gt;<br>
      <br>
&lt;%@ page buffer="5kb" autoFlush="false" %&gt;<br>
      <br>
&lt;p&gt;In place evaluation of another JSP which gives you the current
time:<br>
      <br>
&lt;%@ include file="foo.jsp" %&gt;<br>
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&lt;%@
include file="foo1.jsp" %&gt;</span><br>
      <br>
&lt;p&gt; &lt;jsp:include page="/include/foo.html" flush="true"/&gt; by
including the output of another JSP:<br>
      <br>
&lt;jsp:include page="foo.jsp" flush="true"/&gt;<br>
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&lt;jsp:include
page="foo1.jsp" flush="true"/&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <br>
:-) <br>
      <br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.41: Modified include.jsp<br>
<br>
4. Run the application again.&nbsp; <br>
<ul>
  <li>Right click project node and select Run.</li>
  <li>You should see the Figure-2.42
below.</li>
</ul>
<br>
<img alt="" src="index_files/2_include5.png"
 style="width: 739px; height: 578px;"><br>
Figure-2.42: Result <br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.5"></a>(2.5)
Modify "Forward" part of the application<br>
</h3>
<div style="margin-left: 40px;">
<br>
1. Run the "<span style="font-weight: bold;">Forward</span>" part of
the sampe application.<br>
2. Create a new JSP file, called <span
 style="font-weight: bold; color: rgb(51, 51, 255);">three.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;forward</span>.&nbsp; Replace the IDE generated JSP file with
the one in Code-2.50 below.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&lt;!--<br>
&nbsp; Copyright (c) 1999 The Apache Software Foundation.&nbsp; All
rights <br>
&nbsp; reserved.<br>
--&gt;<br>
      <br>
&lt;body bgcolor="white"&gt;<br>
&lt;font color="red"&gt;<br>
      <br>
&lt;h3&gt; This is page number three &lt;/h3&gt;<br>
      <br>
VM Memory usage (from three.jsp)&nbsp; &lt; 80%.<br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.50: three.jsp<br>
<br>
3. Modify <span style="font-weight: bold; color: rgb(51, 51, 255);">forward.jsp</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;forward</span>.&nbsp;
The code fragments that need to be changed from the IDE generated JSP
file are highlighted in <span
 style="font-weight: bold; color: rgb(51, 51, 255);">bold and blue
colored</span> font.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;!--<br>
&nbsp;&nbsp;&nbsp; Copyright (c) 1999 The Apache Software
Foundation.&nbsp; All rights <br>
&nbsp;&nbsp;&nbsp; reserved.<br>
&nbsp;&nbsp;&nbsp; --&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;% <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double freeMem =
Runtime.getRuntime().freeMemory();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double totlMem =
Runtime.getRuntime().totalMemory();<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; double percent =
freeMem/totlMem;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if (percent &lt; 0.5) {<br>
&nbsp;&nbsp;&nbsp; %&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;jsp:forward page="/forward/one.jsp"/&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; <span
 style="font-weight: bold; color: rgb(51, 51, 255);">&lt;% } else { </span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
if (percent &lt; 0.8) { %&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;jsp:forward page="two.html"/&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%&nbsp;&nbsp; } else { %&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;jsp:forward page="three.jsp"/&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;%&nbsp;&nbsp; } %&gt;</span><br
 style="font-weight: bold; color: rgb(51, 51, 255);">
      <br style="font-weight: bold; color: rgb(51, 51, 255);">
      <span style="font-weight: bold; color: rgb(51, 51, 255);">&nbsp;&nbsp;&nbsp;
&lt;% } %&gt;</span><br>
      <br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.51: Modified forward.jsp<br>
<br>
4. Run the application again.&nbsp; If the percent is above or equal to
0.8, you should see the Figure-2.52 below. <br>
<br>
<img alt="" src="index_files/2_page3.png"
 style="width: 769px; height: 627px;"><br>
Figure-2.52: three.jsp is displayed as a result of forwarding<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.6"></a>(2.6)
Modify "Snoop" part of the application<br>
</h3>
<div style="margin-left: 40px;">
<br>
1. Run the "<span style="font-weight: bold;">Snoop</span>" part of
the sampe application.<br>
2. Observe the result as shown in Figure-2.60 below.<br>
<br>
<img alt="" src="index_files/2_snoop1.png"
 style="width: 773px; height: 685px;"><br>
Figure-2.60: The fields of the HTTP request are displayed<br>
<br>
3. From the browser, type append a query string as shown in Code-2.61
below.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">http://localhost:8084//snp/snoop.jsp?name=sang<br>
      </td>
    </tr>
  </tbody>
</table>
Figure-2.61: Send a query string<br>
<br>
4. Refresh the browser.<br>
5. Observe that the query string is displayed as shown in Figure-2.61
below.<br>
<br>
<img alt="" src="index_files/2_snoop2.png"
 style="width: 773px; height: 685px;"><br>
</div>
<div style="margin-left: 40px;">Figure-2.61: New query string is
displayed<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
<br>
</div>
<h3 style="margin-left: 40px;" class="tutorial"><a name="2.7"></a>(2.7)
Study "JSP Servlet JSP" part of the application<br>
</h3>
<div style="margin-left: 40px;">
<br>
The "JSP Servlet JSP" part of the application shows how JSP and
Servlets are being forwarded each other.&nbsp; When you clickthe <span
 style="font-weight: bold;">Execute</span>, it will invoke <span
 style="font-weight: bold;">jsptoservlet.jsp</span>, which in turn
forward the control to <span style="font-weight: bold;">servletToJsp</span>
servlet, which in turn forwards the control to <span
 style="font-weight: bold;">hello.jsp</span>.&nbsp; <br>
<br>
1. Run the "<span style="font-weight: bold;">JSP Servlet JSP</span>"
part of
the sampe application.<br>
2. Observe the result as shown in Figure-2.60 below.</div>
<div style="margin-left: 40px;"><br>
<img alt="" src="index_files/2_jspservlet.png"
 style="width: 773px; height: 685px;"><br>
Figure-2.70: Result of running "JSP Servlet JSP" part of the
application.<br>
<br>
3. Open <span style="font-weight: bold;">jsptoServlet.jsp</span> under
<span style="font-weight: bold;">JSPExamples-&gt;Web
Pages-&gt;jsptoserv</span>. <br>
4. Observe that the control is forwarded to <span
 style="font-weight: bold;">/servletToJsp </span>url-pattern.&nbsp;
(Code-2.71 below)<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&lt;!--<br>
&nbsp; Copyright 2004 The Apache Software Foundation<br>
      <br>
&nbsp; Licensed under the Apache License, Version 2.0 (the "License");<br>
&nbsp; you may not use this file except in compliance with the License.<br>
&nbsp; You may obtain a copy of the License at<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
http://www.apache.org/licenses/LICENSE-2.0<br>
      <br>
&nbsp; Unless required by applicable law or agreed to in writing,
software<br>
&nbsp; distributed under the License is distributed on an "AS IS" BASIS,<br>
&nbsp; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied.<br>
&nbsp; See the License for the specific language governing permissions
and<br>
&nbsp; limitations under the License.<br>
--&gt;<br>
&lt;body bgcolor="white"&gt;<br>
      <br>
      <span style="font-weight: bold;">&lt;!-- Forward to a servlet
--&gt;</span><br style="font-weight: bold;">
      <span style="font-weight: bold;">&lt;jsp:forward
page="/servletToJsp" /&gt;</span><br>
      <br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.71: Control is now forwarded to servletToJsp.<br>
<br>
5. Open <span style="font-weight: bold;">web.xml</span> under <span
 style="font-weight: bold;">JSPExamples-&gt;Web Pages-&gt;WEB-INF</span>.<br>
6. Obseve that the <span style="font-weight: bold;">/servletToJsp</span>
url-pattern is mapped to a Servlet class called <span
 style="font-weight: bold;">servletToJsp</span> (The code fragment in
the Code-2.72 below starts from line number 106 of the web.xml file.) <br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&nbsp;&nbsp;&nbsp; &lt;!--
Define servlets that are included in the example application --&gt;<br>
      <br>
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
&lt;servlet&gt;</span><br style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-name&gt;servletToJsp&lt;/servlet-name&gt;</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-class&gt;servletToJsp&lt;/servlet-class&gt;</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
&lt;/servlet&gt;</span><br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;servlet&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-name&gt;CompressionFilterTestServlet&lt;/servlet-name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-class&gt;compressionFilters.CompressionFilterTestServlet&lt;/servlet-class&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/servlet&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; &lt;servlet-mapping&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-name&gt;CompressionFilterTestServlet&lt;/servlet-name&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;url-pattern&gt;/CompressionTest&lt;/url-pattern&gt;<br>
&nbsp;&nbsp;&nbsp; &lt;/servlet-mapping&gt;<br>
      <br>
&nbsp;&nbsp;&nbsp; <span style="font-weight: bold;">&lt;servlet-mapping&gt;</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;servlet-name&gt;servletToJsp&lt;/servlet-name&gt;</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&lt;url-pattern&gt;/servletToJsp&lt;/url-pattern&gt;</span><br
 style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
&lt;/servlet-mapping&gt;</span><br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.72: Servlet mapping<br>
<br>
7. Open <span style="font-weight: bold;">servletToJsp.java</span>
under <span style="font-weight: bold;">JSPExamples-&gt;Source
Packages-&gt;&lt;default package&gt;</span>.<br>
8. Observe that the a new attribute called "servletName" is added to
the <span style="font-weight: bold;">HttpServletRequest </span>object
and then control is forwarded to <span style="font-weight: bold;">/jsptoserv/hellp.jsp</span>.&nbsp;
(Code-2.73 below)<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">import javax.servlet.*;<br>
import javax.servlet.http.*;<br>
      <br>
public class servletToJsp extends HttpServlet {<br>
      <br>
&nbsp;&nbsp;&nbsp; public void doGet (HttpServletRequest request,<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; HttpServletResponse response) {<br>
      <br>
&nbsp;&nbsp;&nbsp; try {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; // Set the attribute and Forward
to hello.jsp<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span style="font-weight: bold;">request.setAttribute
("servletName", "servletToJsp");</span><br style="font-weight: bold;">
      <span style="font-weight: bold;">&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
getServletConfig().getServletContext().getRequestDispatcher("/jsptoserv/hello.jsp").forward(request,
response);</span><br>
&nbsp;&nbsp;&nbsp; } catch (Exception ex) {<br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; ex.printStackTrace ();<br>
&nbsp;&nbsp;&nbsp; }<br>
&nbsp;&nbsp;&nbsp; }<br>
}<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.73: servetToJsp.java<br>
<br>
9. Open <span style="font-weight: bold;">hello.jsp</span> under <span
 style="font-weight: bold;">JSPExamples-&gt;Web Pages-&gt;jsptoserv</span>.<br>
10. Observe that <span style="font-weight: bold;">hello.jsp</span>
displays the value of the newly added attribute called <span
 style="font-weight: bold;">servletName </span>in the <span
 style="font-weight: bold;">servletToJsp.java</span>.<br>
<br>
<table style="width: 100%; text-align: left;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top;">&lt;html&gt;<br>
&lt;!--<br>
&nbsp; Copyright 2004 The Apache Software Foundation<br>
      <br>
&nbsp; Licensed under the Apache License, Version 2.0 (the "License");<br>
&nbsp; you may not use this file except in compliance with the License.<br>
&nbsp; You may obtain a copy of the License at<br>
      <br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
http://www.apache.org/licenses/LICENSE-2.0<br>
      <br>
&nbsp; Unless required by applicable law or agreed to in writing,
software<br>
&nbsp; distributed under the License is distributed on an "AS IS" BASIS,<br>
&nbsp; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or
implied.<br>
&nbsp; See the License for the specific language governing permissions
and<br>
&nbsp; limitations under the License.<br>
--&gt;<br>
&lt;body bgcolor="white"&gt;<br>
      <br>
&lt;h1&gt;<br>
I have been invoked by<br>
      <span style="font-weight: bold;">&lt;% out.print
(request.getAttribute("servletName").toString()); %&gt;</span><br>
Servlet.<br>
&lt;/h1&gt;<br>
      <br>
&lt;/html&gt;<br>
      </td>
    </tr>
  </tbody>
</table>
Code-2.74: hello.jsp<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; <a href="index.html#Exercise_2">return to top of the exercise</a><br>
</div>
<br>
<h3 style="margin-left: 40px;" class="tutorial">Summary</h3>
<p style="margin-left: 40px;">In this exercise, you have built and run
"JSP Examples" sample application.<br>
&nbsp;&nbsp;&nbsp; <br>
&nbsp;&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;
&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; <a href="#Tutorial_Exercises">return
to the top</a> </p>
<div class="indent"></div>
<p></p>
<div class="indent">
<div class="indent">
<p><br>
</p>
</div>
<p> </p>
</div>
<!-- ======================================================================================= -->
<br>
<h2><a name="Homework_Exercise"></a>Homework Exercise (for people
who
are taking Sang Shin's "Java EE Programming online course") <br>
</h2>
<br>
<div style="margin-left: 40px;"><span style="color: rgb(0, 0, 0);">1.
The homework is to modify the </span><span
 style="font-weight: bold; color: rgb(0, 0, 0);">hello1</span><span
 style="color: rgb(0, 0, 0);"> project as described below.&nbsp; (You
might want to create a new project by copying
the </span><span style="font-weight: bold; color: rgb(0, 0, 0);">hello1
</span><span style="color: rgb(0, 0, 0);">project.&nbsp; You can name
the
homework project in any way you want
but here I am going to call it </span><span
 style="font-weight: bold; color: rgb(0, 0, 0);">Myhello1</span><span
 style="color: rgb(0, 0, 0);">.)</span><br>
<ul>
  <li>Modify <span style="font-weight: bold;">index.jsp</span> and <span
 style="font-weight: bold;">response.jsp</span>&nbsp; to ask and
display another
item such as <span style="font-weight: bold;">Birth Place</span> or <span
 style="font-weight: bold;">Nationality</span>.</li>
  <li>The <span style="font-weight: bold;">index.jsp</span> forwards
the request to another JSP file called <span style="font-weight: bold;">middle.jsp.&nbsp;
    </span>Before forwarding, it should<span style="font-weight: bold;">
    </span>add another String type parameter called&nbsp; <span
 style="font-weight: bold;">myparameter </span>with value <span
 style="font-weight: bold;">"Passion!"</span> to the request
object.&nbsp; The <span style="font-weight: bold;">middle.jsp</span>
then includes the <span style="font-weight: bold;">response.jsp</span>.&nbsp;
The <span style="font-weight: bold;">response.jsp</span> should
display the value of the <span style="font-weight: bold;">myparameter </span>along
with name and
hobby.<span style="font-weight: bold;"><br>
    </span></li>
</ul>
2<span style="color: rgb(0, 0, 0);">. Send the following files to</span><span
 style="color: rgb(0, 0, 0);">
<a href="mailto:j2eehomeworks@javapassion.com">j2eehomeworks@javapassion.com</a>
with </span><span style="font-weight: bold; color: rgb(0, 0, 0);">Subject
</span><span style="color: rgb(0, 0, 0);">as </span><span
 style="font-weight: bold; color: rgb(0, 0, 0);">J2EEHomework-jspbasics.</span><br
 style="color: rgb(0, 0, 0);">
<span style="font-weight: bold; color: rgb(0, 0, 0);"></span>
<ul style="color: rgb(0, 0, 0);">
  <li>Zip file of the the<span style="font-weight: bold;"> Myhello1</span>
NetBeans project.&nbsp; (Someone else
should be able to open and run it as a NetBeans project.)&nbsp; You can
use your favorite zip utility or you can use "jar" utility that comes
with JDK as following.<br>
  </li>
  <ul>
    <li>cd &lt;parent directory that contains <span
 style="font-weight: bold;">Myhello1</span> directory&gt;
(assuming you named your project as <span style="font-weight: bold;">Myhello1</span>)<br>
    </li>
    <li>jar cvf Myhello1.zip Myhello1 (<span style="font-weight: bold;">Myhello1
      </span>should contain <span style="font-weight: bold;">nbproject
      </span>directory)<br>
    </li>
  </ul>
  <li>Captured output screen&nbsp;<span style="font-weight: bold;"> </span>-
name it as <span style="font-weight: bold;">J2EEHomework-jspbasics.gif</span>
or<span style="font-weight: bold;">J2EEHomework-jspbasics</span><span
 style="font-weight: bold;">.jpg</span> (or <span
 style="font-weight: bold;">J2EEHomework-jspbasics.&lt;whatver
graphics format&gt;</span>)</li>
  <ul>
    <li>Any screen capture that shows that your program is working is
good enough.&nbsp; <br>
    </li>
  </ul>
  <li>If you decide to use
different IDE other than NetBeans, the zip
file should contain all the files that are needed for rebuilding the
project - war file with necessary source files is OK.</li>
</ul>
</div>
<div style="margin-left: 40px;"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;<a href="#Tutorial_Exercises">
return to the top</a></div>
<div class="indent"><br>
<br>
<br>
</div>
<br>
<p> </p>
<!-- ======================================================================================== -->
</body>
</html>
